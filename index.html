--- quizbuzzer_two_tone-4.html
+++ quizbuzzer_two_tone-4.html
@@ head
-  </style>
-</head>
+    </style>
+
+  <!-- Firebase SDKs -->
+  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
+  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
+</head>
@@ body
-  <script>
+  <script>
+    // ─── 1) FIREBASE INITIALIZATION ─────────────────────────────────────────────
+    const firebaseConfig = {
+      apiKey: "YOUR_API_KEY",
+      authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
+      databaseURL: "https://YOUR_PROJECT_ID.firebaseio.com",
+      projectId: "YOUR_PROJECT_ID",
+      storageBucket: "YOUR_PROJECT_ID.appspot.com",
+      messagingSenderId: "SENDER_ID",
+      appId: "APP_ID"
+    };
+    firebase.initializeApp(firebaseConfig);
+    const db      = firebase.database();
+    const gameRef = db.ref('games/quizGame');  // all clients read/write here
+
+    // ─── 2) LOCAL VARIABLES & UTILS ─────────────────────────────────────────────
     const AudioContext = window.AudioContext || window.webkitAudioContext;
     const audioCtx = new AudioContext();
     function playBeep(frequency1, duration) { /* …same as before… */ }
@@
-    const correctPassword = 'quizmaster123';
+    const correctPassword = 'quizmaster123';
@@
-    let isBuzzerActive = true;
+    let isBuzzerActive = true;
     let buzzers = [], nameInputs = [], scoreInputs = [];
     const status = document.getElementById('status');
@@
     function generateBuzzers(numPlayers) {
       buzzerRow.innerHTML = '';
@@
       for (let i = 0; i < numPlayers; i++) {
         /* …create nameInput, buzzer, scoreInput… */
         buzzer.addEventListener('click', () => {
-          if (isBuzzerActive) {
-            isBuzzerActive = false;
-            /* local-only buzz logic… */
-          }
+          // push to Firebase only once
+          gameRef.child('buzz').once('value').then(snap => {
+            if (!snap.exists()) {
+              isBuzzerActive = false;
+              const playerName = nameInput.value.trim() || `Player ${i+1}`;
+              gameRef.child('buzz').set({
+                index: i,
+                name: playerName,
+                freq: buzzerFrequencies[i % buzzerFrequencies.length],
+                ts: Date.now()
+              });
+            }
+          });
         });
       }
     }
@@
-    authButton.addEventListener('click', () => {
+    authButton.addEventListener('click', () => {
       const enteredPassword = passwordInput.value;
       if (enteredPassword === correctPassword) {
         passwordScreen.style.display = 'none';
         gameScreen.style.display = 'block';
-        generateBuzzers(parseInt(playersInput.value));
+        const n = parseInt(playersInput.value);
+        generateBuzzers(n);
+        // host writes settings once
+        gameRef.child('settings').set({
+          header: headerInput.value.trim(),
+          numPlayers: n
+        });
         authError.textContent = '';
       } else {
         authError.textContent = 'Incorrect password. Try again.';
@@
-    resetButton.addEventListener('click', () => {
-      isBuzzerActive = true;
-      status.textContent = 'Ready';
-      playBeep(220, 0.2);
-      buzzers.forEach(btn => {
-        btn.classList.remove('disabled');
-        btn.disabled = false;
-      });
-    });
+    resetButton.addEventListener('click', () => {
+      // wiping the buzz node resets everyone
+      gameRef.child('buzz').remove();
+      playBeep(220, 0.2);
+    });
+
+    // ─── 3) REAL-TIME LISTENERS ────────────────────────────────────────────────
+    // 3a) Update UI when host changes title or player count
+    gameRef.child('settings').on('value', snap => {
+      const s = snap.val();
+      if (s) {
+        mainHeader.textContent = s.header;
+        pageTitle.textContent = s.header;
+        if (parseInt(playersInput.value) !== s.numPlayers) {
+          playersInput.value = s.numPlayers;
+          generateBuzzers(s.numPlayers);
+        }
+      }
+    });
+
+    // 3b) React to the first buzz (or reset)
+    gameRef.child('buzz').on('value', snap => {
+      const b = snap.val();
+      if (b) {
+        isBuzzerActive = false;
+        status.textContent = `${b.name} buzzed first!`;
+        playBeep(b.freq, 0.3);
+        buzzers.forEach(btn => btn.disabled = true);
+        buzzers[b.index].disabled = false;
+      } else {
+        isBuzzerActive = true;
+        status.textContent = 'Ready';
+        buzzers.forEach(btn => {
+          btn.classList.remove('disabled');
+          btn.disabled = false;
+        });
+      }
+    });
+
-    document.addEventListener('keydown', (event) => { /* … */ });
-    generateBuzzers(parseInt(playersInput.value) || 4);
+    document.addEventListener('keydown', (event) => {
+      if (event.key >= '1' && event.key <= '8' && isBuzzerActive) {
+        const idx = parseInt(event.key)-1;
+        if (idx < buzzers.length) buzzers[idx].click();
+      } else if (event.key.toLowerCase() === 'r') {
+        resetButton.click();
+      }
+    });
+
+    // kick things off (clients will get settings via the listener)
+    // the host’s own settings write will populate it
+    generateBuzzers(parseInt(playersInput.value) || 4);
   </script>
